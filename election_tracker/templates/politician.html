{% extends "layout.html" %}
{% block content %}
<div class="card mb-4 border-info">
    <div class="card-header bg-info text-white"><h3>{{ politician.name }}</h3></div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-6"><p><strong>พรรค:</strong> {{ politician.party }}</p><p><strong>รหัส:</strong> {{ politician.id }}</p></div>
            <div class="col-md-6">
                <div class="alert alert-light border">
                    {% if campaign %}<p class="mb-0"><strong>ปี:</strong> {{ campaign.year }} | <strong>เขต:</strong> {{ campaign.constituency }}</p>
                    {% else %}<p class="text-muted">ไม่พบข้อมูลแคมเปญ</p>{% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
<h4>คำสัญญาที่ให้ไว้</h4>
<div class="list-group">
    {% for p in promises %}
    <a href="/promise/{{ p.id }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
        {{ p.detail }} <span class="badge {% if p.status == 'เงียบหาย' %}bg-danger{% elif p.status == 'กำลังดำเนินการ' %}bg-warning text-dark{% else %}bg-secondary{% endif %}">{{ p.status }}</span>
    </a>
    {% else %}
    <div class="alert alert-secondary">ไม่มีข้อมูล</div>
    {% endfor %}
</div>
{% endblock %}